(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,n){e.exports=n.p+"static/media/SithEmblem.b68da5e8.png"},32:function(e,t,n){e.exports=n(63)},37:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(7),s=n.n(o),c=(n(37),n(31)),l=n(8),i=n(9),u=n(11),m=n(10),p=n(12),h=n(25),f=n.n(h);var d=function(){return r.a.createElement("div",null,r.a.createElement("img",{src:f.a,alt:"sith logo",className:"loader-img"}),r.a.createElement("p",{className:"loader-p"},"Loading"))},v=n(26),E=n.n(v),w=(n(58),function(e){return r.a.createElement("article",{className:"Card"},r.a.createElement("h4",null,e.name),r.a.createElement("h6",null,"Species: ",e.species),r.a.createElement("h6",null,"Homeworld: ",e.homeworld),r.a.createElement("h6",null,"Homeworld Population: ",e.homeworldPop),r.a.createElement("h6",null,r.a.createElement("i",{onClick:function(){return e.favoriteItem(e.p)},class:"far fa-star"})))}),C=function(e){return r.a.createElement("div",{className:"Card"},r.a.createElement("h4",null,e.name),r.a.createElement("h6",null,"Model: ",e.model),r.a.createElement("h6",null,"Class: ",e.class),r.a.createElement("h6",null,"Passenger Count: ",e.passengers),r.a.createElement("h6",null,r.a.createElement("i",{onClick:function(){return e.favoriteItem(e.v)},class:"far fa-star"})))},b=function(e){return r.a.createElement("article",{className:"Card"},r.a.createElement("h4",null,e.name),r.a.createElement("h6",null,"Population: ",e.population),r.a.createElement("h6",null,"Terrain: ",e.terrain),r.a.createElement("h6",null,"Climate: ",e.climate),r.a.createElement("h6",null,"Residents: ",0===e.residents.length?"Unknown":e.residents.map(function(e){return" -"+e})),r.a.createElement("h6",null,r.a.createElement("i",{onClick:function(){return e.favoriteItem(e.p)},class:"far fa-star"})))},g=function(e){function t(e){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).call(this,e))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;switch(this.props.rendered.currentChoice){case"people":return r.a.createElement("section",{className:"Card-Container"},this.props.rendered.people.map(function(t){return r.a.createElement(w,{p:t,favoriteItem:e.props.favoriteItem,name:t.name,species:t.species,homeworld:t.homeworld,homeworldPop:t.homeworldPopulation})}));case"planets":return r.a.createElement("section",{className:"Card-Container"},this.props.rendered.planets.map(function(t){return r.a.createElement(b,{p:t,favoriteItem:e.props.favoriteItem,name:t.name,population:t.population,terrain:t.terrain,residents:t.residents,climate:t.climate})}));case"vehicles":return r.a.createElement("section",{className:"Card-Container"},this.props.rendered.vehicles.map(function(t){return r.a.createElement(C,{v:t,favoriteItem:e.props.favoriteItem,name:t.name,model:t.model,passengers:t.passengers,class:t.vehicle_class})}));case"favorites":return 0===this.props.rendered.favorites.length?r.a.createElement("h3",{className:"fave"},"Favorite Some Items!"):r.a.createElement("section",{className:"Card-Container"},this.props.rendered.favorites.map(function(e){return e.climate?r.a.createElement(b,{name:e.name,population:e.population,terrain:e.terrain,residents:e.residents,climate:e.climate}):e.model?r.a.createElement(C,{name:e.name,model:e.model,passengers:e.passengers,class:e.vehicle_class}):e.species?r.a.createElement(w,{name:e.name,sfecies:e.species,homeworld:e.homeworld,homeworldPop:e.homeworldPopulation}):void 0}));case"crawl":return r.a.createElement(E.a,{subTitle:this.props.rendered.movie.title,title:this.props.rendered.movie.release_date,text:this.props.rendered.movie.opening_crawl});default:return r.a.createElement(d,null)}}}]),t}(a.Component),k=n(27);var S=function(){return r.a.createElement(k.a,{style:{position:"absolute",width:"100%",height:"100%"}})},I=function(e){return fetch(e,{method:"GET"}).then(function(e){if(e.ok)return e.json();throw Error("Error fetching data")})},N=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).handleClick=function(t){switch(t.target.textContent){case"people":e.setState({currentChoice:"people"});break;case"vehicles":e.setState({currentChoice:"vehicles"});break;case"planets":e.setState({currentChoice:"planets"});break;case"crawl":e.setState({currentChoice:"crawl"});break;default:e.setState({currentChoice:"favorites"})}},e.fetchPeople=function(){return I("https://swapi.co/api/people/").then(function(t){return e.setState({people:t.results,isLoading:!1,currentChoice:"crawl"})}).then(function(){return e.fetchHomeworlds(e.state.people)}).catch(function(e){throw new Error(e)})},e.fetchHomeworlds=function(t){var n=t.map(function(t){return I(t.homeworld).then(function(t){return e.addHomeworldInfo(t.name,t.population)}).catch(function(e){throw new Error(e)})});return e.fetchSpecies(e.state.people),Promise.all(n)},e.addHomeworldInfo=function(t,n){var a={homeworld:t,homeworldPopulation:n},r=e.state.people.map(function(e){return Object.assign(e,a)});e.setState({people:r})},e.fetchSpecies=function(t){var n=t.map(function(t){return I(t.species).then(function(t){return e.addSpeciesInfo(t.name)}).catch(function(e){throw new Error(e)})});return Promise.all(n)},e.addSpeciesInfo=function(t){var n={species:t},a=e.state.people.map(function(e){return Object.assign(e,n)});e.setState({people:a})},e.fetchVehicles=function(){return I("https://swapi.co/api/vehicles/").then(function(t){return e.setState({vehicles:t.results})}).catch(function(e){throw new Error(e)})},e.addPlanetInfo=function(t){var n=e.state.planets.map(function(e,n){return Object.assign(e,{residents:t[n]})});e.setState({planets:n})},e.fetchResidents=function(t){var n=t.map(function(e){return e.residents.reduce(function(e,t){return I(t).then(function(t){return e.push(t.name)}).catch(function(e){throw new Error(e)}),e},[])});return e.addPlanetInfo(n),Promise.all(n)},e.fetchPlanets=function(){return I("https://swapi.co/api/planets/").then(function(t){return e.setState({planets:t.results})}).then(function(){return e.fetchResidents(e.state.planets)}).catch(function(e){throw new Error(e)})},e.favoriteItem=function(t){if(e.state.favorites.includes(t))e.removeFavorites(t.name);else{var n=e.state.favorites;e.setState({favorites:[].concat(Object(c.a)(n),[t])})}},e.removeFavorites=function(t){var n=e.state.favorites.filter(function(e){return e.name!==t});e.setState({favorites:n})},e.state={isLoading:!0,movie:{},people:[],planets:[],vehicles:[],favorites:[],currentChoice:""},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;return I("https://swapi.co/api/films/").then(function(e){return e.results.sort(function(){return.5-Math.random()}).pop()}).then(function(t){return e.setState({movie:t})}).then(function(){return e.fetchPeople()}).then(function(){return e.fetchVehicles()}).then(function(){return e.fetchPlanets()})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(S,{className:"Starfield"}),r.a.createElement("h1",{className:"header"},r.a.createElement("img",{src:"https://fontmeme.com/permalink/190502/5dfed28f102f9d81a68ccee2d51fa26a.png",alt:"swapiboxi",border:"0"})),r.a.createElement("nav",null,r.a.createElement("button",{className:"people",onClick:this.handleClick},"people"),r.a.createElement("button",{className:"planets",onClick:this.handleClick},"planets"),r.a.createElement("button",{className:"vehicles",onClick:this.handleClick},"vehicles"),r.a.createElement("button",{className:"favorites",onClick:this.handleClick},"favorites",r.a.createElement("span",{className:"fave-count"},this.state.favorites.length))),!0===this.state.isLoading?r.a.createElement(d,null):r.a.createElement(g,{rendered:this.state,favoriteItem:this.favoriteItem}))}}]),t}(a.Component),P=n(30);r.a.createElement(P.a,null,r.a.createElement(N,null));s.a.render(r.a.createElement(N,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.6096c42f.chunk.js.map